import{d as B,B as E,r as s,o as N,b as T,w as o,u as a,I as H,e as l,f as R,g as S,h as d,i as G,C as f,D as J,E as w,G as M,H as C,v as O,J as P,x as j,y as q}from"./index-uSqXM98h.js";import{g as z,b as x,e as A,u as F,d as b}from"./firebase-CA3CGHmd.js";const W=B({__name:"EditExpense",setup(K){const k=E(),V=j(),v=k.params.id,n=s(""),u=s(""),r=s("expense"),p=s(""),m=s(""),D=async()=>{await(await P.create({header:"ยืนยันการลบ",message:"คุณต้องการลบรายการนี้ใช่หรือไม่?",buttons:[{text:"ยกเลิก",role:"cancel"},{text:"ลบ",role:"confirm",handler:async()=>{await A(x(b,"expenses",v)),V.replace("/tabs/list")}}]})).present()};N(async()=>{var t,y,I,g,c;const i=await z(x(b,"expenses",v));if(!i.exists())return;const e=i.data();n.value=(t=e.title)!=null?t:"",u.value=(y=e.amount)!=null?y:"",r.value=(I=e.type)!=null?I:"expense",p.value=(g=e.category)!=null?g:"",m.value=(c=e.note)!=null?c:""});const U=async()=>{if(!n.value||Number(u.value)<=0){alert("กรุณากรอกชื่อรายการและจำนวนเงินให้ถูกต้อง");return}await F(x(b,"expenses",v),{title:n.value,amount:Number(u.value),type:r.value,category:p.value,note:m.value}),V.push("/tabs/list")};return(i,e)=>(q(),T(a(H),null,{default:o(()=>[l(a(G),null,{default:o(()=>[l(a(R),null,{default:o(()=>[l(a(S),null,{default:o(()=>[...e[5]||(e[5]=[d("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),l(a(O),{class:"ion-padding"},{default:o(()=>[l(a(f),{label:"ชื่อรายการ",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t)},null,8,["modelValue"]),l(a(f),{label:"จำนวนเงิน",type:"number",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value=t)},null,8,["modelValue"]),l(a(J),{label:"ประเภท",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t)},{default:o(()=>[l(a(w),{value:"income"},{default:o(()=>[...e[6]||(e[6]=[d("รายรับ",-1)])]),_:1}),l(a(w),{value:"expense"},{default:o(()=>[...e[7]||(e[7]=[d("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"]),l(a(f),{label:"หมวดหมู่",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=t=>p.value=t)},null,8,["modelValue"]),l(a(M),{label:"หมายเหตุ",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=t=>m.value=t)},null,8,["modelValue"]),l(a(C),{expand:"block",onClick:U},{default:o(()=>[...e[8]||(e[8]=[d(" อัปเดตข้อมูล ",-1)])]),_:1}),l(a(C),{expand:"block",color:"danger",onClick:D},{default:o(()=>[...e[9]||(e[9]=[d(" ลบข้อมูล ",-1)])]),_:1})]),_:1})]),_:1}))}});export{W as default};
