System.register(["./index-legacy-DZ4gBzo9.js","./firebase-legacy-ugmyyq_q.js"],function(e,l){"use strict";var a,u,t,n,o,d,s,v,i,r,c,m,p,f,b,x,V,y,_,g,w,U,h,k,C,E,j;return{setters:[e=>{a=e.d,u=e.B,t=e.r,n=e.o,o=e.b,d=e.w,s=e.u,v=e.I,i=e.e,r=e.f,c=e.g,m=e.h,p=e.i,f=e.C,b=e.D,x=e.E,V=e.G,y=e.H,_=e.v,g=e.J,w=e.x,U=e.y},e=>{h=e.g,k=e.b,C=e.e,E=e.u,j=e.d}],execute:function(){e("default",a({__name:"EditExpense",setup(e){const l=u(),a=w(),N=l.params.id,B=t(""),D=t(""),G=t("expense"),H=t(""),I=t(""),J=async()=>{const e=await g.create({header:"ยืนยันการลบ",message:"คุณต้องการลบรายการนี้ใช่หรือไม่?",buttons:[{text:"ยกเลิก",role:"cancel"},{text:"ลบ",role:"confirm",handler:async()=>{await C(k(j,"expenses",N)),a.replace("/tabs/list")}}]});await e.present()};n(async()=>{var e,l,a,u,t;const n=await h(k(j,"expenses",N));if(!n.exists())return;const o=n.data();B.value=null!==(e=o.title)&&void 0!==e?e:"",D.value=null!==(l=o.amount)&&void 0!==l?l:"",G.value=null!==(a=o.type)&&void 0!==a?a:"expense",H.value=null!==(u=o.category)&&void 0!==u?u:"",I.value=null!==(t=o.note)&&void 0!==t?t:""});const S=async()=>{!B.value||Number(D.value)<=0?alert("กรุณากรอกชื่อรายการและจำนวนเงินให้ถูกต้อง"):(await E(k(j,"expenses",N),{title:B.value,amount:Number(D.value),type:G.value,category:H.value,note:I.value}),a.push("/tabs/list"))};return(e,l)=>(U(),o(s(v),null,{default:d(()=>[i(s(p),null,{default:d(()=>[i(s(r),null,{default:d(()=>[i(s(c),null,{default:d(()=>[...l[5]||(l[5]=[m("แก้ไขรายการ",-1)])]),_:1})]),_:1})]),_:1}),i(s(_),{class:"ion-padding"},{default:d(()=>[i(s(f),{label:"ชื่อรายการ",modelValue:B.value,"onUpdate:modelValue":l[0]||(l[0]=e=>B.value=e)},null,8,["modelValue"]),i(s(f),{label:"จำนวนเงิน",type:"number",modelValue:D.value,"onUpdate:modelValue":l[1]||(l[1]=e=>D.value=e)},null,8,["modelValue"]),i(s(b),{label:"ประเภท",modelValue:G.value,"onUpdate:modelValue":l[2]||(l[2]=e=>G.value=e)},{default:d(()=>[i(s(x),{value:"income"},{default:d(()=>[...l[6]||(l[6]=[m("รายรับ",-1)])]),_:1}),i(s(x),{value:"expense"},{default:d(()=>[...l[7]||(l[7]=[m("รายจ่าย",-1)])]),_:1})]),_:1},8,["modelValue"]),i(s(f),{label:"หมวดหมู่",modelValue:H.value,"onUpdate:modelValue":l[3]||(l[3]=e=>H.value=e)},null,8,["modelValue"]),i(s(V),{label:"หมายเหตุ",modelValue:I.value,"onUpdate:modelValue":l[4]||(l[4]=e=>I.value=e)},null,8,["modelValue"]),i(s(y),{expand:"block",onClick:S},{default:d(()=>[...l[8]||(l[8]=[m(" อัปเดตข้อมูล ",-1)])]),_:1}),i(s(y),{expand:"block",color:"danger",onClick:J},{default:d(()=>[...l[9]||(l[9]=[m(" ลบข้อมูล ",-1)])]),_:1})]),_:1})]),_:1}))}}))}}});
